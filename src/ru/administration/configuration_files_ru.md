## Файлы конфигурации


### Содержимое директории конфигурации


#### Постоянные настройки

`"DataBaseConnection.json"` - подключение к базе данных

`"SunEngine.json"` - настройки движка

`"ServerInfo.json"` - информация о сервере (название, версия, описание и другие)

`"LogConfig.json"` - настройка логов


#### Директория "MailTemplates"

Шаблоны почтовых сообщений при регистрации пользователя и для других ситуаций.

`"layout.html"` - обёртка всех почтовых шаблонов.

`"email-change.html"`, `"private-message.html"`, `"register.html"`, `"reset-password.html"` - шаблоны почтовых сообщений.

Директория `"Init"`. Только для стартовой инициализации базы данных сайта.

Используется только в команде - `"dotnet SunEngine.dll init"`:

`"Init/Categories"` - создание и настройка категорий, далее на рабочем сервере категории настраиваются через админку.

`"Init/Components"` - создание и настройка компонентов: активность и посты.

`"Init/Materials"` - создание материалов.

`"Init/Menu"` - создание и настройка меню сайта, только для команды init, далее на рабочем сервере меню настраиваются через админку.

`"Init/Avatars"` - задание аватарок пользователей при заполнении базы, имя файла должно совпадать с именем пользователя

`"SeedTemplates"` - строки для заполнения материалов в тестовом режиме.

`"Init/Users.json"` - создание пользователей.

`"Init/Roles.json"` - создание ролей пользователей и их прав.


### Использование директории конфигурации

По умолчанию используется директория `"Config"`.

В проекте нет этой директории создаётся копированием из:

`"Config.dev.template"` в случае запуска для целей разработки.

`"Config.server.template"` в случае запуска на сервере.

Директорию конфигурации можно указать явно - опция `"config:<AbsoluteOrRelativePath>"`.

Название директории конфигурации должно быть либо `"Config"`, либо заканчиваться на `".Config"`.


#### Примеры:

`"dotnet SunEngine.dll server"` - запуск с директорией по умолчанию `"Config"`, в этом случае директория конфигурации ищется в запускаемой папке и папках выше.

`"dotnet SunEngine.dll server config:MySite"` - запуск с директорией `"MySite.Config"` (суффикс `".Config"` добавляется автоматически)

`"dotnet SunEngine.dll server config:MySite.Config"` - то же самое, `"MySite.Config"`

Команда `"config"` действует так же и для всех других для команд: `"init", "migrate", "seed"`..., например:

`"dotnet SunEngine.dll migrate init seed config:MySite"`

