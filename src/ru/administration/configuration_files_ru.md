# Файлы конфигурации


## Содержимое директории конфигурации


Постоянные настройки

- `DataBaseConnection.json` - подключение к базе данных
- `SunEngine.json` - настройки движка
- `ServerInfo.json` - информация о сервере (название, версия, описание и другие)
- `LogConfig.json` - настройка логов


## Директория "MailTemplates"

Шаблоны почтовых сообщений при регистрации пользователя и для других ситуаций.

`layout.html` - обёртка всех почтовых шаблонов.

`email-change.html`, `private-message.html`, `register.html`, `reset-password.html` - шаблоны почтовых сообщений.

Директория `Init`. Только для стартовой инициализации базы данных сайта.

Используется только в команде - `dotnet SunEngine.dll init`:

`Init/Avatars` - аватарки пользователей

`Init/Categories` - создание и настройка категорий, далее на рабочем сервере категории настраиваются через админку.

`Init/Sections` - создание и настройка компонентов: активность и посты.

`Init/Materials` - создание материалов.

`Init/Menu` - создание и настройка меню сайта, только для команды init, далее на рабочем сервере меню настраиваются через админку.

`Init/Avatars` - задание аватарок пользователей при заполнении базы, имя файла должно совпадать с именем пользователя

`SeedTemplates` - строки для заполнения материалов в тестовом режиме.

`Init/Config.json` - начальные настройки ConfigurationItems из раздела админки `Конфигурация`.

`Init/Users.json` - создание пользователей.

`Init/Roles.json` - создание ролей пользователей и их прав.


## Использование директории конфигурации

По умолчанию для размещения конфигурационных файлов используется директория `Config`.

В репозитории проекта этой директории нет - её необходимо создать копированием из:
- `Config.dev.template` в случае запуска для целей разработки;
- `Config.server.template` в случае запуска на сервере.

Также, нестандартную директорию конфигурации можно указать явно - для этого служит опция `config:<AbsoluteOrRelativePath>`.

Необходимо учитывать, что имя директории конфигурации должно быть либо `Config`, либо заканчиваться на `.Config`.


### Примеры

`dotnet SunEngine.dll server` - запуск с директорией по умолчанию `Config`, в этом случае системой будет произведён поиск по дереву директорий от запускаемой вверх

`dotnet SunEngine.dll server config:MySite` - запуск с директорией `MySite.Config` (суффикс `.Config` добавляется автоматически)

`dotnet SunEngine.dll server config:MySite.Config` - пример аналогичный `MySite.Config`

Команда `config` действует так же и для всех других команд: `init, migrate, seed`..., например:

`dotnet SunEngine.dll migrate init seed config:MySite`.

