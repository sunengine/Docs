(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{217:function(t,s,e){"use strict";e.r(s);var _=e(28),r=Object(_.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"пропись-в-systemd"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#пропись-в-systemd"}},[t._v("#")]),t._v(" Пропись в systemd")]),t._v(" "),e("p",[t._v("Сервис systemd в Linux позволяет постоянно держать необходимые процессы запущенными, и перезапускать, если они вынужденно выключаются.")]),t._v(" "),e("h3",{attrs:{id:"создание-и-пропись-процесса-my-site-com-в-systemd"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#создание-и-пропись-процесса-my-site-com-в-systemd"}},[t._v("#")]),t._v(" Создание и пропись процесса my_site.com в systemd")]),t._v(" "),e("p",[t._v('Создаём файл "my_site.com.service" в папке "/etc/systemd/system"')]),t._v(" "),e("p",[t._v("[Unit]\nDescription=SunEngine my_site.com\n[Service]\nWorkingDirectory=/site/my_site.com\nExecStart=/usr/bin/dotnet /site/my_site.com/Server/SunEngine.dll server\nSyslogIdentifier=my_site.com\nUser=www-data\nRestart=always\nRestartSec=10\nKillSignal=SIGINT\nEnvironment=ASPNETCORE_ENVIRONMENT=Production\n[Install]\nWantedBy=multi-user.target")]),t._v(" "),e("p",[t._v("Включаем и запускаем сервис:")]),t._v(" "),e("p",[t._v("systemctl enable my_site.com\nsystemctl start my_site.com")]),t._v(" "),e("p",[t._v('Теперь "SunEngine.dll server" будет работать в постоянном режиме.')]),t._v(" "),e("h3",{attrs:{id:"команды-работы-с-systemd"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#команды-работы-с-systemd"}},[t._v("#")]),t._v(" Команды работы с systemd")]),t._v(" "),e("p",[t._v('Включить запуск "my_site.com"  процесса при загрузке системы')]),t._v(" "),e("p",[t._v("systemctl enable my_site.com")]),t._v(" "),e("p",[t._v("Посмотреть логи:")]),t._v(" "),e("p",[t._v("journalctl -fxeu my_site.com")]),t._v(" "),e("p",[t._v("Запуск процесса:")]),t._v(" "),e("p",[t._v("systemctl start my_site.com")]),t._v(" "),e("p",[t._v("Остановка процесса:")]),t._v(" "),e("p",[t._v("systemctl stop my_site.com")]),t._v(" "),e("p",[t._v("Перезапуск процесса:")]),t._v(" "),e("p",[t._v("systemctl restart my_site.com")]),t._v(" "),e("p",[t._v('Отключить запуск "my_site.com" при загрузке системы:')]),t._v(" "),e("p",[t._v("systemctl disable my_site.com")]),t._v(" "),e("h3",{attrs:{id:"метки"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#метки"}},[t._v("#")]),t._v(" Метки:")]),t._v(" "),e("p",[t._v("kestrel")]),t._v(" "),e("p",[t._v("systemd")])])}),[],!1,null,null,null);s.default=r.exports}}]);